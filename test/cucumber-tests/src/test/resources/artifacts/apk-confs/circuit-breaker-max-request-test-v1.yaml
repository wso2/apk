---
name: "CircuitBreakerMaxRequest"
context: "/circuit-breaker-max-request-v1"
id: "circuit-breaker-max-request-test-v1"
version: "3.14"
type: "REST"
defaultVersion: false
endpointConfigurations:
  production:
    endpoint: "http://backend:80"
    resiliency:
      timeout:
        downstreamRequestIdleTimeout: 50
        upstreamResponseTimeout: 30
      circuitBreaker:
        maxConnectionPools: 1000
        maxConnections: 1024
        maxPendingRequests: 10
        maxRequests: 3
        maxRetries: 2
operations:
  - target: "/get"
    verb: "GET"
    authTypeEnabled: true
    scopes: [ ]
  - target: "/anything/{path}"
    verb: "GET"
    authTypeEnabled: true
    scopes: [ ]
  - target: "/delay/{delay}"
    verb: "GET"
    authTypeEnabled: true
    scopes: [ ]
  - target: "/delay/{delay}"
    verb: "POST"
    authTypeEnabled: true
    scopes: [ ]
  - target: "/delay/{delay}"
    verb: "PUT"
    authTypeEnabled: true
    scopes: [ ]
authentication:
 - authType: OAuth2
   enabled: true
   sendTokenToUpstream: true
   headerName: Authorization
   headerEnable: true
